# OAS 3.1 Pre-built Fixtures

Pre-built schema/codec pairs for the [OpenAPI 3.1 specification schema](https://spec.openapis.org/oas/3.1/schema/2022-10-07), generated by `jsonschema-llm`.

## Source

- **Schema**: [OpenAPI 3.1 JSON Schema (2022-10-07)](https://spec.openapis.org/oas/3.1/schema/2022-10-07)
- **Copyright**: [OpenAPI Initiative](https://www.openapis.org/), licensed under [Apache 2.0](https://www.apache.org/licenses/LICENSE-2.0)
- **Local copy**: [`source/oas31-schema.json`](source/oas31-schema.json)

## What's Included

### `openai-strict/`

Fixtures generated with `--target openai-strict` (default, most restrictive). Contains:

| Path                            | Description                                |
| ------------------------------- | ------------------------------------------ |
| `schema.json`                   | Full converted schema                      |
| `codec.json`                    | Full rehydration codec                     |
| `manifest.json`                 | Component inventory with dependency counts |
| `$defs/<Component>/schema.json` | Per-component converted schema             |
| `$defs/<Component>/codec.json`  | Per-component rehydration codec            |

**46 components** extracted, including: `schema`, `operation`, `path-item`, `parameter`, `request-body`, `response`, `header`, `security-scheme`, `server`, `info`, `components`, and more.

> **Note**: 1 component (`response-or-reference`) is excluded due to extreme recursion depth. All other components extract and convert successfully.

## Usage

Use a component's schema directly with an LLM provider:

```bash
# Get the converted schema for a single OAS component
cat fixtures/oas31/openai-strict/$defs/schema/schema.json

# Use with OpenAI API (example)
SCHEMA=$(cat fixtures/oas31/openai-strict/$defs/operation/schema.json)
```

To rehydrate LLM output back to the original shape:

```bash
jsonschema-llm rehydrate llm-output.json \
  --codec fixtures/oas31/openai-strict/$defs/operation/codec.json \
  --schema fixtures/oas31/source/oas31-schema.json
```

## Regeneration

```bash
./scripts/generate-fixtures.sh
```

Requires: Rust toolchain, `jq`.

## Versioning

- **OAS schema version**: 2022-10-07 (latest published OAS 3.1 schema)
- **jsonschema-llm version**: See `Cargo.toml`
- **Target**: `openai-strict` (strict mode)
