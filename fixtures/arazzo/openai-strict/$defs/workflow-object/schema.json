{
  "$comment": "https://spec.openapis.org/arazzo/v1.0#workflow-object",
  "additionalProperties": false,
  "description": "Describes the steps to be taken across one or more APIs to achieve an objective",
  "patternProperties": {
    "^x-": {
      "description": "MUST be a valid JSON object serialized as a string, e.g. \"{\\\"key\\\": \\\"value\\\"}\". Do NOT output plain text — the value must parse with JSON.parse().",
      "type": "string"
    }
  },
  "properties": {
    "dependsOn": {
      "anyOf": [
        {
          "description": "A list of workflows that MUST be completed before this workflow can be processed. Constraints: items must be unique.",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ]
    },
    "description": {
      "anyOf": [
        {
          "description": "A description of the workflow. CommonMark syntax MAY be used for rich text representation",
          "type": "string"
        },
        {
          "type": "null"
        }
      ]
    },
    "failureActions": {
      "anyOf": [
        {
          "description": "A list of failure actions that are applicable for all steps described under this workflow. Constraints: items must be unique.",
          "items": {
            "anyOf": [
              {
                "$comment": "https://spec.openapis.org/arazzo/v1.0#specification-extensions",
                "description": "While the Arazzo Specification tries to accommodate most use cases, additional data can be added to extend the specification at certain points",
                "patternProperties": {
                  "^x-": {
                    "description": "MUST be a valid JSON object serialized as a string, e.g. \"{\\\"key\\\": \\\"value\\\"}\". Do NOT output plain text — the value must parse with JSON.parse().",
                    "type": "string"
                  }
                }
              },
              {
                "$comment": "https://spec.openapis.org/arazzo/v1.0#reusable-object",
                "additionalProperties": false,
                "description": "A simple object to allow referencing of objects contained within the Components Object",
                "properties": {
                  "reference": {
                    "description": "A runtime expression used to reference the desired object",
                    "type": "string"
                  },
                  "value": {
                    "description": "Sets a value of the referenced parameter",
                    "type": [
                      "string",
                      "boolean",
                      "object",
                      "array",
                      "number",
                      "null"
                    ]
                  }
                },
                "required": [
                  "reference",
                  "value"
                ],
                "type": "object",
                "unevaluatedProperties": false
              }
            ]
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ]
    },
    "inputs": {
      "anyOf": [
        {
          "$ref": "https://json-schema.org/draft/2020-12/schema"
        },
        {
          "type": "null"
        }
      ]
    },
    "outputs": {
      "anyOf": [
        {
          "additionalProperties": false,
          "description": "A map between a friendly name and a dynamic output value",
          "patternProperties": {
            "^[a-zA-Z0-9\\.\\-_]+$": {
              "type": "string"
            }
          },
          "properties": {},
          "required": [],
          "type": "object"
        },
        {
          "type": "null"
        }
      ]
    },
    "parameters": {
      "anyOf": [
        {
          "description": "A list of parameters that are applicable for all steps described under this workflow. Constraints: items must be unique.",
          "items": {
            "anyOf": [
              {
                "$comment": "https://spec.openapis.org/arazzo/v1.0#specification-extensions",
                "description": "While the Arazzo Specification tries to accommodate most use cases, additional data can be added to extend the specification at certain points",
                "patternProperties": {
                  "^x-": {
                    "description": "MUST be a valid JSON object serialized as a string, e.g. \"{\\\"key\\\": \\\"value\\\"}\". Do NOT output plain text — the value must parse with JSON.parse().",
                    "type": "string"
                  }
                }
              },
              {
                "$comment": "https://spec.openapis.org/arazzo/v1.0#reusable-object",
                "additionalProperties": false,
                "description": "A simple object to allow referencing of objects contained within the Components Object",
                "properties": {
                  "reference": {
                    "description": "A runtime expression used to reference the desired object",
                    "type": "string"
                  },
                  "value": {
                    "description": "Sets a value of the referenced parameter",
                    "type": [
                      "string",
                      "boolean",
                      "object",
                      "array",
                      "number",
                      "null"
                    ]
                  }
                },
                "required": [
                  "reference",
                  "value"
                ],
                "type": "object",
                "unevaluatedProperties": false
              }
            ]
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ]
    },
    "steps": {
      "description": "An ordered list of steps where each step represents a call to an API operation or to another workflow. Constraints: items must be unique; minimum 1 item(s).",
      "items": {
        "$comment": "https://spec.openapis.org/arazzo/v1.0#specification-extensions",
        "description": "While the Arazzo Specification tries to accommodate most use cases, additional data can be added to extend the specification at certain points",
        "patternProperties": {
          "^x-": {
            "description": "MUST be a valid JSON object serialized as a string, e.g. \"{\\\"key\\\": \\\"value\\\"}\". Do NOT output plain text — the value must parse with JSON.parse().",
            "type": "string"
          }
        }
      },
      "type": "array"
    },
    "successActions": {
      "anyOf": [
        {
          "description": "A list of success actions that are applicable for all steps described under this workflow. Constraints: items must be unique.",
          "items": {
            "anyOf": [
              {
                "$comment": "https://spec.openapis.org/arazzo/v1.0#specification-extensions",
                "description": "While the Arazzo Specification tries to accommodate most use cases, additional data can be added to extend the specification at certain points",
                "patternProperties": {
                  "^x-": {
                    "description": "MUST be a valid JSON object serialized as a string, e.g. \"{\\\"key\\\": \\\"value\\\"}\". Do NOT output plain text — the value must parse with JSON.parse().",
                    "type": "string"
                  }
                }
              },
              {
                "$comment": "https://spec.openapis.org/arazzo/v1.0#reusable-object",
                "additionalProperties": false,
                "description": "A simple object to allow referencing of objects contained within the Components Object",
                "properties": {
                  "reference": {
                    "description": "A runtime expression used to reference the desired object",
                    "type": "string"
                  },
                  "value": {
                    "description": "Sets a value of the referenced parameter",
                    "type": [
                      "string",
                      "boolean",
                      "object",
                      "array",
                      "number",
                      "null"
                    ]
                  }
                },
                "required": [
                  "reference",
                  "value"
                ],
                "type": "object",
                "unevaluatedProperties": false
              }
            ]
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ]
    },
    "summary": {
      "anyOf": [
        {
          "description": "A summary of the purpose or objective of the workflow",
          "type": "string"
        },
        {
          "type": "null"
        }
      ]
    },
    "workflowId": {
      "$anchor": "workflowId",
      "description": "Unique string to represent the workflow",
      "type": "string"
    }
  },
  "required": [
    "dependsOn",
    "description",
    "failureActions",
    "inputs",
    "outputs",
    "parameters",
    "steps",
    "successActions",
    "summary",
    "workflowId"
  ],
  "type": "object",
  "unevaluatedProperties": false
}
