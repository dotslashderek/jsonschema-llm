# {{ package_name }}

Generated TypeScript SDK for {{ source_schema }}.

## Prerequisites

- Node.js 20+
- npm or pnpm

## Installation

```bash
npm install {{ package_name }}
```

## Setup

After installing, build the SDK to compile TypeScript sources:

```bash
npm run build
```

> **Note**: The SDK must be built before use — component modules load schemas
> relative to the compiled `dist/` directory.

## Usage

### Unified generation (recommended for generic operations)

Use the `Component` enum and top-level `generate()` for dynamic dispatch — ideal when the target component is determined at runtime.

```typescript
import { Component, generate } from "{{ package_name }}";
import { LlmRoundtripEngine, OpenAIFormatter, FetchTransport } from "@json-schema-llm/engine";

const engine = new LlmRoundtripEngine(
  new OpenAIFormatter(),
  { url: "https://api.openai.com/v1/chat/completions", model: "gpt-4o", headers: { Authorization: `Bearer ${apiKey}` } },
  new FetchTransport(),
);

// Generate any component by enum
const result = await generate(Component.{{ components.0.enum_name }}, "Your prompt here", engine);
console.log(result.data);
engine.close();
```

### Focused component access

Import a specific component module directly when you know exactly which component you need at compile time.

```typescript
{% for component in components %}import * as {{ component.module_name }} from "{{ package_name }}/{{ component.module_name }}";
{% endfor %}
// Direct generation
const result = await {{ components.0.module_name }}.generate("Your prompt here", engine);

// Access individual artifacts
const llmSchema  = {{ components.0.module_name }}.schema();
const codec      = {{ components.0.module_name }}.codec();
const original   = {{ components.0.module_name }}.original();
```

### Direct WASI Access

```typescript
import { SchemaLlmEngine } from "@json-schema-llm/wasi";

const engine = await SchemaLlmEngine.create(); // auto-discovers WASM
const { schema, codec } = await engine.convert(mySchema, { target: "openai-strict" });
engine.close();
```

## Components

| Component | Enum | Module |
|-----------|------|--------|
{% for component in components %}| {{ component.component_name }} | `Component.{{ component.enum_name }}` | `{{ component.module_name }}` |
{% endfor %}
